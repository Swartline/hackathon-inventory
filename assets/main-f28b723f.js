const a="inventory",s=async()=>await WA.player.state.loadVariable(a),o=async()=>{await s()===void 0&&await WA.player.state.saveVariable(a,[])},r=async()=>{await WA.player.state.saveVariable(a,[])},c=async n=>{const e=await s();return e.push(n),await WA.player.state.saveVariable(a,e),e},l=[{id:1,name:"Carte cadeau Amazon 50 euros",description:"Liberté de choix illimitée avec cette carte cadeau Amazon d'une valeur de 50 euros.",sprite_url:"https://cdn-icons-png.flaticon.com/512/15764/15764154.png"},{id:2,name:"Formation HTML",description:"Maîtrisez les bases du langage HTML et créez des sites web dynamiques avec notre formation complète.",sprite_url:"https://cdn-icons-png.flaticon.com/512/15764/15764159.png"},{id:3,name:"Abonnement Netflix 6 mois",description:"Liberté de choix illimitée avec cette carte cadeau Amazon d'une valeur de 50 euros.",sprite_url:"https://cdn-icons-png.flaticon.com/512/15764/15764146.png"},{id:4,name:"Coffret Cadeau Spa",description:"Offrez à vos proches une expérience de détente ultime avec ce coffret cadeau Spa. Laissez-les se relaxer et se ressourcer dans un cadre luxueux avec des massages, des soins du visage et bien plus encore.",sprite_url:"https://cdn-icons-png.flaticon.com/512/15764/15764157.png"},{id:5,name:"Abonnement salle de sport 1 mois",description:"Commencez votre voyage vers une meilleure forme physique avec cet abonnement salle de sport d'un mois. Profitez d'un accès illimité à des équipements de pointe, des cours de fitness et des conseils d'experts pour atteindre vos objectifs de santé.",sprite_url:"https://cdn-icons-png.flaticon.com/512/15764/15764152.png"},{id:6,name:"Ticket restaurant 10€",description:"Découvrez une explosion de saveurs avec ce ticket restaurant d'une valeur de 10€. Offrez-vous un délicieux repas dans l'un de vos restaurants préférés et savourez une expérience gastronomique inoubliable.",sprite_url:"https://cdn-icons-png.flaticon.com/512/15764/15764153.png"}],d={items:l},p=d.items;(async()=>{await WA.onInit(),await o(),await r();for(const t of p)await c(t);WA.ui.onRemotePlayerClicked.subscribe(t=>{t.addAction("voir invetaire",()=>{console.log(t.state.inventory)})});async function n(){await WA.players.configureTracking();const t=WA.players.list();for(const i of t)console.log(i.name," ",i);console.log(WA.player.name," ",WA.player.state.inventory)}WA.player.onPlayerMove(n);let e;WA.ui.actionBar.addButton({id:"inventory-btn",type:"action",imageSrc:"https://cdn-icons-png.flaticon.com/512/4138/4138061.png",toolTip:"Inventaire",callback:async()=>{e?(e.close(),e=void 0,WA.player.state.inventory_open=!1):(e=await WA.ui.website.open({url:"/src/test.html",position:{vertical:"middle",horizontal:"middle"},size:{height:"50vh",width:"50vw"},allowApi:!0}),e.position.vertical="top",WA.player.state.inventory_open=!0,WA.player.state.inventory_id=e.id)}}),WA.player.state.onVariableChange("inventory_open").subscribe(t=>{t||(e=void 0)})})();
